
  <ion-header [translucent]="true">
    <ion-toolbar color="dark">
      <ion-title>
        Messages
      </ion-title>
    </ion-toolbar>
        <ion-searchbar></ion-searchbar>
  </ion-header>
 

<ion-content>
  <!-- <ion-button (click)="add()">Ajouter</ion-button> -->
  <!--<ion-list>
    <ion-item detail [routerLink]="['/conversation']" *ngFor="let message of messagesView"  fragment="{{message.destinataire}}">
        <ion-avatar slot="start" >
          <img src="../../assets/profil.png">
        </ion-avatar>
        <ion-label>
          <div class="flex_box" *ngFor="let user of users | async">
              <ion-label *ngIf="user.id!=userId && (user.id==message.destinataire || user.id==message.utilisateur)">{{ user.nom}} {{ user.prenom}}</ion-label>
          </div>
          <p><ion-icon class="text-icon" color="primary" name="checkmark"></ion-icon> {{ message.message }}</p>
        </ion-label>
    </ion-item>
  </ion-list>-->

  <ion-list>
    <div *ngFor="let userShow of messagesView | async" >
    <ion-item detail [routerLink]="['/conversation']" *ngIf="userShow[0]!=undefined" fragment="{{userShow[0]}}" (click)="changerVu(userShow[0])">
      
        <ion-avatar slot="start" >
          <img src="../../assets/profil.png">
        </ion-avatar>
        <ion-label>
          <div class="flex_box" *ngFor="let user of users | async">
              <ion-label *ngIf="user.id!=userId && (user.id==userShow[0] || user.id==userShow[0])">{{user.prenom}} {{user.nom}}</ion-label>
          </div>
          <!--
          <p *ngIf="userShow[3]==true && userShow[4]==userId">{{userShow[2]}}</p>
          <p *ngIf="userShow[3]!=true && userShow[4]==userId" style="font-weight: bold;">{{userShow[2]}}</p>
          <p *ngIf="userShow[3]==true && userShow[4]!=userId"><ion-icon class="text-icon" color="primary" name="checkmark"></ion-icon>{{userShow[2]}}</p>
          <p *ngIf="userShow[3]!=true && userShow[4]!=userId">{{userShow[2]}}</p>
          -->
          <span *ngIf="userShow[4]==userId">
            <span *ngIf="userShow[3]==true && userShow[4]==userId">
              <p>{{userShow[2]}}</p>
            </span>
            <span *ngIf="userShow[3]!=true && userShow[4]==userId">
              <p style="font-weight: bold;">{{userShow[2]}}</p>
            </span>

          </span>
          <span *ngIf="userShow[4]!=userId">
            <span *ngIf="userShow[3]==true && userShow[4]!=userId">
              <p><ion-icon class="text-icon" color="primary" name="checkmark"></ion-icon>{{userShow[2]}}</p>
            </span>
            <span *ngIf="userShow[3]!=true && userShow[4]!=userId">
              <p>{{userShow[2]}}</p>
            </span>
          </span>
          
          
          
        </ion-label>
    </ion-item>
  </div>
  </ion-list>


  <!-- <ion-button (click)="add()">Ajouter</ion-button> -->
  

</ion-content>
